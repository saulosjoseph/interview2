<!DOCTYPE html>
<meta charset="utf-8"/>
<html>
<head>
	<title></title>
</head>
<body>

	<select id="selectCategoria" onchange="categoria.call(this, event)">
		<option value = "0">a</option>	
		<option value = "1">b</option>
	</select>
	<select id="selectProduto" onchange="produto.call(this, event)">
		<option value = "0" id = "product0">0</option>	
		<option value = "1" id = "product1">1</option>
	</select>
	<select id="selectMarca" onchange="marca.call(this, event)">
		<option value = "0" id = "marca0">0a</option>	
		<option value = "1" id = "marca1">0b</option>
	</select>

	<div id="top_x_div" style="width: 800px; height: 600px;"></div>

</body>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js">
</script>
<script type="text/javascript">

	var selector;
	var text;
	var title;

	window.onload = function() {
		categoria();
		produto();
		marca();
	}

	function categoria(event) {
		selector = document.getElementById('selectCategoria');
		text = selector[selector.selectedIndex].text;
		if(text == "a"){
			document.getElementById("product0").textContent = "2";
			document.getElementById("product1").textContent = "3";
		} else {
			document.getElementById("product0").textContent = "0";
			document.getElementById("product1").textContent = "1";
		}
		produto();
	}

	function produto(event) {
		selector = document.getElementById('selectProduto');
		text = selector[selector.selectedIndex].text;
		if(text == "0"){
			document.getElementById("marca0").textContent = "0a";
			document.getElementById("marca1").textContent = "0b";
		} else if(text == "1") {
			document.getElementById("marca0").textContent = "1a";
			document.getElementById("marca1").textContent = "1b";
		} else if(text == "2") {
			document.getElementById("marca0").textContent = "2a";
			document.getElementById("marca1").textContent = "2b";
		} else if(text == "3") {
			document.getElementById("marca0").textContent = "3a";
			document.getElementById("marca1").textContent = "3b";
		}
		marca();
	}

	var bars = [
	['Month', 'Sales'],
	["January", 0],
	["February", 0],
	["March", 0],
	["April", 0],
	];


	function marca(event) {

		selector = document.getElementById('selectMarca');
		text = selector[selector.selectedIndex].text;
		title = `Venda mensal de ${text}`
		if(text == "0a"){
			bars = [
			['Month', 'Sales'],
			["January", 1],
			["February", 2],
			["March", 3],
			["April", 4],
			];

			drwaw(bars, title);
		} else if(text == "0b"){
			bars = [
			['Month', 'Sales'],
			["January", 3],
			["February", 5],
			["March", 2],
			["April", 10],
			];
			drwaw(bars, title)
		} else if(text == "1a"){
			bars = [
			['Month', 'Sales'],
			["January", 33],
			["February", 51],
			["March", 23],
			["April", 11],
			];
			drwaw(bars, title)
		} else if(text == "1b"){
			bars = [
			['Month', 'Sales'],
			["January", 13],
			["February", 21],
			["March", 33],
			["April", 31],
			];
			drwaw(bars, title)
		} else if(text == "2a"){
			bars = [
			['Month', 'Sales'],
			["January", 15],
			["February", 27],
			["March", 38],
			["April", 30],
			];
			drwaw(bars, title)
		} else if(text == "2b"){
			bars = [
			['Month', 'Sales'],
			["January", 25],
			["February", 17],
			["March", 38],
			["April", 40],
			];
			drwaw(bars, title)
		} else if(text == "3a"){
			bars = [
			['Month', 'Sales'],
			["January", 11],
			["February", 9],
			["March", 20],
			["April", 4],
			];
			drwaw(bars, title)
		} else if(text == "3b"){
			bars = [
			['Month', 'Sales'],
			["January", 22],
			["February", 30],
			["March", 15],
			["April", 5],
			];
			drwaw(bars, title)
		}
	}

	function drwaw(bars, title){
		google.charts.load('current', {'packages':['bar']});
		google.charts.setOnLoadCallback(drawStuff);
		function drawStuff() {

			var data = new google.visualization.arrayToDataTable(bars);

			var options = {
				width: 800,
				legend: { position: 'none' },
				chart: {
					title: title},
					axes: {
						x: {
              			0: { side: 'top', label: ' '} // Top x-axis.
              		}
              	},
              	bar: { groupWidth: "90%" }
              };

              var chart = new google.charts.Bar(document.getElementById('top_x_div'));
              chart.draw(data, google.charts.Bar.convertOptions(options));
          }
      }

  </script>
  </html>
